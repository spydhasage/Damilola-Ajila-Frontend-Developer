!function(){"use strict";var e=window.wp.i18n,t=window.wp.blockEditor,n=window.wp.element,r=window.wp.components,a=window.wp.apiFetch;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,_x,l,c=[],_n=!0,o=!1;try{if(_x=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;_n=!1}else for(;!(_n=(r=_x.call(n)).done)&&(c.push(r.value),c.length!==t);_n=!0);}catch(e){o=!0,a=e}finally{try{if(!_n&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(o)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var __=wp.i18n.__,p=wp.blocks.registerBlockType;wp.blocks.getBlockType("myplugin/spacex-block")||p("myplugin/spacex-block",{title:__("SpaceX Block","myplugin"),description:__("A block to display SpaceX data","myplugin"),category:"widgets",icon:"rocket",keywords:[__("SpaceX","myplugin"),__("Rocket","myplugin"),__("Capsule","myplugin")],supports:{html:!1},edit:function(l){l.attributes,l.setAttributes;var c=i((0,n.useState)([]),2),s=c[0],p=c[1],f=i((0,n.useState)(!0),2),y=f[0],m=f[1],b=i((0,n.useState)(null),2),g=b[0],d=b[1],h=i((0,n.useState)({status:"",original_launch:"",type:""}),2),v=h[0],w=h[1];(0,n.useEffect)((function(){m(!0),d(null),(0,a.apiFetch)({path:"/spacex-data/v1/rockets"}).then((function(e){p(e),m(!1)})).catch((function(e){m(!1),d(e.message)}))}),[]);var E=function(e,t){w(o(o({},v),{},u({},e,t)))},R=s.filter((function(e){return!(v.status&&e.status!==v.status||v.original_launch&&e.original_launch!==v.original_launch||v.type&&e.type!==v.type)}));return React.createElement("div",(0,t.useBlockProps)(),React.createElement("h2",null,(0,e.__)("SpaceX Rockets","spacex-data-block")),React.createElement("div",null,React.createElement(r.TextControl,{label:(0,e.__)("Status","spacex-data-block"),value:v.status,onChange:function(e){return E("status",e)}}),React.createElement(r.TextControl,{label:(0,e.__)("Original Launch","spacex-data-block"),value:v.original_launch,onChange:function(e){return E("original_launch",e)}}),React.createElement(r.TextControl,{label:(0,e.__)("Type","spacex-data-block"),value:v.type,onChange:function(e){return E("type",e)}}),React.createElement(r.Button,{isPrimary:!0,onClick:function(){return w({status:"",original_launch:"",type:""})}},(0,e.__)("Clear Filters","spacex-data-block"))),React.createElement("div",null,y?React.createElement("p",null,"Loading Rockets..."):g?React.createElement("p",null,"Error fetching Rockets: ",g):R.length?React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Status"),React.createElement("th",null,"Active"),React.createElement("th",null,"Cost per Launch"))),React.createElement("tbody",null,R.map((function(e){return React.createElement("tr",{key:e.id},React.createElement("td",null,e.name),React.createElement("td",null,e.status),React.createElement("td",null,e.active?"Yes":"No"),React.createElement("td",null,"$",e.cost_per_launch.toLocaleString()))})))):React.createElement("p",null,"No Rockets match the selected filters.")))},save:function(){return null}})}();